{"version":3,"sources":["Navbar.js","BlogList.js","useFetch.js","Home.js","Create.js","BlogDetails.js","NotFound.js","App.js","index.js"],"names":["Navbar","className","to","BlogList","blogs","title","map","blog","id","author","useFetch","url","useState","data","setData","isPending","setIsPending","error","setError","useEffect","abortCont","AbortController","setTimeout","fetch","signal","then","res","ok","Error","json","catch","err","name","console","log","message","abort","Home","Create","setTitle","body","setBody","setAuthor","history","useHistory","onSubmit","e","preventDefault","method","headers","JSON","stringify","push","type","required","value","onChange","target","BlogDetails","useParams","onClick","NotFound","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1fede85d.chunk.js","sourcesContent":["import { Link } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className=\"navbar\">\r\n            <h1>The Dojo Blog</h1>\r\n            <div className=\"links\">\r\n                <Link to=\"/\">Home</Link>\r\n                <Link to=\"/create\">New Blog</Link>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n \r\nexport default Navbar;","import { Link } from \"react-router-dom\";\r\n\r\nconst BlogList = ({ blogs,title}) => {\r\n\r\n    return (\r\n        <div className=\"blog-list\">\r\n            <h2>{ title }</h2>\r\n            {blogs.map((blog) => (\r\n            <div className=\"blog-preview\" key={blog.id}>\r\n                <Link to={`blogs/${blog.id}`}>\r\n                    <h2>{ blog.title }</h2>\r\n                    <p>Written by {blog.author}</p>\r\n                </Link>\r\n                \r\n            </div>\r\n    ))}\r\n        </div> \r\n    );\r\n}\r\n \r\nexport default BlogList;","import { useState,useEffect} from 'react';\r\n\r\nconst useFetch = (url) =>{\r\n    const [data, setData] = useState(null);\r\n    const [isPending, setIsPending] = useState(true);\r\n    const [error, setError] =useState(null);\r\n\r\n    useEffect(() => {\r\n        const abortCont = new AbortController();\r\n\r\n        setTimeout(() => {\r\n            fetch(url , { signal : abortCont.signal })\r\n                .then(res => {\r\n                    if(!res.ok){\r\n                        throw Error(\"Unable to fetch data from server\");\r\n                    }\r\n                    return res.json();\r\n                })\r\n                .then((data) => {\r\n                    setData(data);\r\n                    setIsPending(false);\r\n                    setError(null);\r\n                })\r\n                .catch(err =>{\r\n                    if(err.name === 'AbortError'){\r\n                        console.log(\"Fetch aborted\");\r\n                    }\r\n                    else{\r\n                        setIsPending(false);\r\n                        setError(err.message);\r\n                    } \r\n                })\r\n        }, 1000);\r\n        return () => abortCont.abort();\r\n        \r\n    },[url]);\r\n    return {data,isPending,error};\r\n}\r\nexport default useFetch;","import BlogList from \"./BlogList\";\r\nimport useFetch from './useFetch';\r\n\r\nconst Home = () => {\r\n    const {data:blogs, isPending, error} = useFetch('http://localhost:8000/blogs');\r\n\r\n    return (\r\n        <div className=\"home\">\r\n            { error && <div>{ error }</div> }\r\n            { isPending && <div>Loading...</div> }\r\n           { blogs && <BlogList blogs={blogs} title=\"All Blogs!\"/>}\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Home;","import { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Create = () => {\r\n    const [title,setTitle] = useState('');\r\n    const [body,setBody] = useState('');\r\n    const [author,setAuthor] = useState('mario');\r\n    const [isPending, setIsPending] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const blog = { title, body, author };\r\n\r\n        setIsPending(true);\r\n        \r\n        fetch('http://localhost:8000/blogs', {\r\n            method : 'POST',\r\n            headers : { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(blog)\r\n        }).then(() => {\r\n            console.log('new blog added');\r\n            setIsPending(false);\r\n        })\r\n        // history.go(-1); redirect to immediate (-1) previous page\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <div className=\"create\">\r\n            <h2>Add a new blog</h2>\r\n            <form onSubmit = {handleSubmit}>\r\n                <label>Blog Title : </label>\r\n                <input\r\n                 type=\"text\"\r\n                 required\r\n                 value = {title}\r\n                 onChange = {(e) => setTitle(e.target.value)}\r\n                />\r\n                <label>Blog Body :</label>\r\n                <textarea\r\n                 required\r\n                 value = {body}\r\n                 onChange = {(e) => setBody(e.target.value) }\r\n                ></textarea>\r\n                <label>Blog Author : </label>\r\n                <select\r\n                    value = {author}\r\n                    onChange = {(e) => setAuthor(e.target.value) }\r\n                >\r\n                    <option value=\"mario\">mario</option>\r\n                    <option value=\"yoshi\">yoshi</option>\r\n                </select>\r\n                { !isPending && <button>Add Blog</button>}\r\n                { isPending && <button>Adding Blog...</button>}\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default Create;","import { useHistory, useParams } from \"react-router\";\r\nimport useFetch from \"./useFetch\";\r\n\r\nconst BlogDetails = () => {\r\n    const {id} = useParams();\r\n    const {data:blog , error , isPending} = useFetch('http://localhost:8000/blogs/' +id);\r\n    const history = useHistory();\r\n\r\n    const handleClick = () =>{\r\n        fetch('http://localhost:8000/blogs/' + blog.id, {\r\n            method: 'DELETE'\r\n        }).then(() =>{\r\n            console.log('blog deleted');\r\n            history.push('/');\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"blog-details\">\r\n            {  isPending && <div>Loading</div>}\r\n            { error && <div>{ error }</div> }\r\n            { blog && (\r\n                <article>\r\n                    <h2>{blog.title}</h2>\r\n                    <p>Written by {blog.author}</p>\r\n                    <div>{ blog.body }</div>\r\n                    <button onClick={handleClick}>delete</button>\r\n                </article>\r\n            ) }\r\n\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default BlogDetails;","import { Link } from \"react-router-dom\";\r\n\r\nconst NotFound = () => {\r\n    return (\r\n        <div className=\"not-found\">\r\n            <h2>Sorry</h2>\r\n            <p>Page not found</p>\r\n            <Link to='/'>Back to Home</Link>\r\n        </div>\r\n    );\r\n}\r\n \r\nexport default NotFound;","import Navbar from './Navbar';\nimport Home from './Home';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Create from './Create';\nimport BlogDetails from './BlogDetails';\nimport NotFound from './NotFound'\n\nfunction App() {\n  return (\n    <Router>\n    <div className=\"App\">\n      <Navbar />\n      <div className=\"content\">\n       <Switch>\n         <Route exact path='/'>\n            <Home />\n         </Route>\n         <Route path='/create'>\n            <Create />\n         </Route>\n         <Route path='/blogs/:id'>\n            <BlogDetails />\n         </Route>\n         <Route path='*'>\n            <NotFound />\n         </Route>\n       </Switch>\n      </div>\n    </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}